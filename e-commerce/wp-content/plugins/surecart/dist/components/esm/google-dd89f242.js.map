{"file":"google-dd89f242.js","mappings":"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","names":[],"sources":["src/store/product/facebook.ts","src/store/product/google.ts"],"sourcesContent":["import { maybeConvertAmount } from '../../functions/currency';\nimport { ProductsSearchedParams } from 'src/types';\n\n/**\n * Handle search event.\n */\nwindow.addEventListener('scSearched', function (e: CustomEvent) {\n  if (!window?.fbq) return;\n\n  const eventDetail: ProductsSearchedParams = e.detail;\n\n  window.fbq('track', 'Search', {\n    search_string: eventDetail.searchString,\n    content_ids: eventDetail.searchResultIds,\n    ...(!!eventDetail?.searchCollections?.length ? { content_category: eventDetail.searchCollections.join(',') } : {}),\n  });\n});\n\n/**\n * Handle view content event.\n */\nwindow.addEventListener('scProductViewed', function (e: CustomEvent) {\n  if (!window?.fbq) return;\n\n  const product = e.detail;\n\n  window.fbq('track', 'ViewContent', {\n    content_ids: [product.id],\n    content_category: product?.product_collections?.data?.map(collection => collection.name).join(', '),\n    content_name: product?.name + (product?.variant_options?.length ? ` - ${product?.variant_options.join(' / ')}` : ''),\n    content_type: 'product',\n    contents: [\n      {\n        id: product.id,\n        quantity: 1,\n      },\n    ],\n    currency: product?.price?.currency,\n    value: maybeConvertAmount(product.price?.amount || 0, product.price?.currency || 'USD'),\n  });\n});\n","import { maybeConvertAmount } from '../../functions/currency';\nimport { ProductsViewedParams } from 'src/types';\nimport { __ } from '@wordpress/i18n';\nimport { trackEvent } from '../../functions/google';\n/**\n * Handle the search event.\n */\n\nwindow.addEventListener('scSearched', (e: CustomEvent) => {\n  trackEvent('search', {\n    search_term: e.detail?.searchString,\n  });\n});\n\n/**\n * Handle view item event.\n */\nwindow.addEventListener('scProductViewed', (e: CustomEvent) => {\n  const product = e.detail;\n  trackEvent('view_item', {\n    value: maybeConvertAmount(product.price?.amount || 0, product.price?.currency || 'USD'),\n    currency: product.price?.currency,\n    items: [\n      {\n        item_id: product?.id,\n        item_name: product?.name,\n        currency: product?.price?.currency,\n        discount: product?.discount_amount ? maybeConvertAmount(product?.discount_amount, product?.price?.currency) : 0,\n        price: maybeConvertAmount(product?.price?.amount, product?.price?.currency),\n        quantity: product?.quantity || 1,\n        ...(product?.variant_options?.length\n          ? {\n              item_variant: product?.variant_options.map(option => option.name).join(' / '),\n            }\n          : {}),\n        ...(product?.product_collections?.data?.length\n          ? {\n              item_category: product?.product_collections?.data?.map(collection => collection.name).join(', '),\n            }\n          : {}),\n      },\n    ],\n  });\n});\n\n/**\n * Handle view items event.\n */\nwindow.addEventListener('scProductsViewed', (e: CustomEvent) => {\n  const eventDetail: ProductsViewedParams = e.detail;\n  trackEvent('view_item_list', {\n    ...(eventDetail?.collectionId ? { item_list_id: eventDetail.collectionId } : {}),\n    item_list_name: eventDetail.pageTitle,\n    items: eventDetail?.products?.map(product => ({\n      item_id: product?.id,\n      item_name: product?.name,\n      ...(product?.product_collections?.data?.length\n        ? {\n            item_category: product?.product_collections?.data?.map(collection => collection.name).join(', '),\n          }\n        : {}),\n      ...(eventDetail?.collectionId ? { item_list_id: eventDetail.collectionId } : {}),\n      item_list_name: eventDetail.pageTitle,\n    })),\n  });\n});\n"],"version":3}