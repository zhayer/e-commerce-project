import{u as o,s as a,c as i}from"./p-021b5199.js";import{c as t}from"./p-1f60f497.js";import{u as s,a as d,r as c}from"./p-100cb670.js";import{a as n}from"./p-9a298389.js";import{a as e}from"./p-401e165e.js";var r;const l=()=>i(a.formId,a.mode),v=o=>a.locks=[...a.locks,o],u=(o="")=>a.locks=o?a.locks.filter((a=>a!==o)):[],w=async({id:c,data:i})=>{try{o("FETCH"),a.checkout=await s({id:c,data:i}),o("RESOLVE")}catch(a){console.error(a),t(a),o("REJECT")}},p=async i=>{try{o("FETCH"),a.checkout=await c({checkoutId:a.checkout.id,itemId:i}),o("RESOLVE")}catch(a){console.error(a),t(a),o("REJECT")}},m=async c=>{try{o("FETCH"),a.checkout=await d({checkout:a.checkout,data:c,live_mode:"live"===(null==a?void 0:a.mode)}),o("RESOLVE")}catch(a){console.error(a),t(a),o("REJECT")}},E=o=>{var c,i,t;(null===(c=a.checkout)||void 0===c?void 0:c.id)&&n({path:e(`surecart/v1/checkouts/${a.checkout.id}/offer_bump/${o}`,{t:Date.now(),...!!(null===(t=null===(i=null==a?void 0:a.checkout)||void 0===i?void 0:i.invoice)||void 0===t?void 0:t.id)&&{type:"open_invoice"}}),method:"POST",keepalive:!0})};window.sc={...(null===window||void 0===window?void 0:window.sc)||{},checkout:{...(null===(r=null===window||void 0===window?void 0:window.sc)||void 0===r?void 0:r.checkout)||{},addLineItem:m}};export{m as a,u as b,l as c,v as l,p as r,E as t,w as u};