import{r as t,h as i,H as a,a as o}from"./p-e97fde0a.js";import{a as e,d as s,s as r}from"./p-021b5199.js";import"./p-03631502.js";import"./p-9dbc54d6.js";import"./p-d3366af3.js";import"./p-401e165e.js";import"./p-830ab1a3.js";import"./p-ec182234.js";import"./p-3f6362a4.js";import"./p-95325ec5.js";import"./p-6ec14893.js";const c=":host{display:inline-block;vertical-align:middle;line-height:1}::slotted(*){display:block !important;line-height:1}.cart__button{padding:0 4px;height:100%;display:grid;align-items:center}.cart__content{position:relative}.cart__count{box-sizing:border-box;position:absolute;inset:-12px -16px auto auto;text-align:center;font-size:10px;font-weight:bold;border-radius:var(--sc-cart-icon-counter-border-radius, 9999px);color:var(--sc-cart-icon-counter-color, var(--sc-color-primary-text, var(--sc-color-white)));background:var(--sc-cart-icon-counter-background, var(--sc-color-primary-500));box-shadow:var(--sc-cart-icon-box-shadow, var(--sc-shadow-x-large));padding:2px 6px;line-height:14px;min-width:14px;z-index:1}.cart__icon{font-size:var(--sc-cart-icon-size, 1.1em);cursor:pointer}.cart__icon sc-icon{display:block}";const n=c;const d=class{constructor(i){t(this,i);this.open=null;this.count=0;this.formId=undefined;this.mode="live";this.cartMenuAlwaysShown=true;this.showEmptyCount=false}getItemsCount(){var t,i;const a=(i=(t=r===null||r===void 0?void 0:r.checkout)===null||t===void 0?void 0:t.line_items)===null||i===void 0?void 0:i.data;let o=0;(a||[]).forEach((t=>{o=o+(t===null||t===void 0?void 0:t.quantity)}));return o}componentDidLoad(){this.link=this.el.closest("a");this.link.addEventListener("click",(t=>{t.preventDefault();t.stopImmediatePropagation();e.state.cart={...e.state.cart,open:!e.state.cart.open};return false}));this.handleParentLinkDisplay();s(this.mode,(()=>this.handleParentLinkDisplay()))}handleParentLinkDisplay(){this.link.style.display=!this.cartMenuAlwaysShown&&!this.getItemsCount()?"none":null}render(){return i(a,{key:"a8b28268b983d5a3530aa1708c34ae597b8975cc",tabindex:0,role:"button","aria-label":wp.i18n.sprintf(wp.i18n.__("Open Cart Menu Icon with %d items.","surecart"),this.getItemsCount()),onKeyDown:t=>{if("Enter"===(t===null||t===void 0?void 0:t.code)||"Space"===(t===null||t===void 0?void 0:t.code)){e.state.cart={...e.state.cart,open:!e.state.cart.open};t.preventDefault()}}},i("div",{key:"6e9e014fb1aa3bf54b4f8037b679778bee24b7c1",class:"cart__button",part:"base"},i("div",{key:"7b86fe7670e9a4fcef7630efd24d773b9a490732",class:"cart__content"},(this.showEmptyCount||!!this.getItemsCount())&&i("span",{key:"211358c60afba93db2d0a00e40167f8a6611e219",class:"cart__count",part:"count"},this.getItemsCount()),i("div",{key:"44758b3160736ae83af6b666f8e0a437d0d2fc72",class:"cart__icon"},i("slot",{key:"a6f3baac1b7b84ee7481180e623f555bda1f576e"})))))}get el(){return o(this)}};d.style=n;export{d as sc_cart_button};
//# sourceMappingURL=p-f2e034d5.entry.js.map