import{r as t,c as s,h as e,a}from"./p-e97fde0a.js";const i=":host{display:block;--sc-tabs-min-width:225px}.tab-group{display:flex;flex-wrap:wrap;position:relative;border:solid 1px transparent;border-radius:0;flex-direction:row}@media screen and (min-width: 750px){.tab-group{flex-wrap:nowrap}}.tab-group__tabs{display:flex;flex-wrap:wrap;flex:0 0 auto;flex-direction:column;margin-bottom:var(--sc-spacing-xx-large)}.tab-group__nav-container{order:1;flex:1 0 100%}@media screen and (min-width: 750px){.tab-group__nav-container{min-width:var(--sc-tabs-min-width);flex:0 1 auto}}.tab-group__body{flex:1 1 auto;order:2}@media screen and (min-width: 750px){.tab-group__body{padding:0 var(--sc-spacing-xx-large)}}::slotted(sc-tab){margin-bottom:var(--sc-spacing-xx-small)}";const o=i;const r=class{constructor(e){t(this,e);this.scTabHide=s(this,"scTabHide",7);this.scTabShow=s(this,"scTabShow",7);this.tabs=[];this.panels=[];this.activeTab=undefined}componentDidLoad(){this.syncTabsAndPanels();this.setAriaLabels();this.setActiveTab(this.getActiveTab()||this.tabs[0],{emitEvents:false});this.mutationObserver=new MutationObserver((()=>{this.syncTabsAndPanels()}));this.mutationObserver.observe(this.el,{attributes:true,childList:true,subtree:true})}disconnectedCallback(){this.mutationObserver.disconnect()}syncTabsAndPanels(){this.tabs=this.getAllTabs();this.panels=this.getAllPanels()}setAriaLabels(){this.tabs.map((t=>{const s=this.panels.find((s=>s.name===t.panel));if(s){t.setAttribute("aria-controls",s.getAttribute("id"));s.setAttribute("aria-labelledby",t.getAttribute("id"))}}))}handleClick(t){const s=t.target;const e=s.closest("sc-tab");const a=e===null||e===void 0?void 0:e.closest("sc-tab-group");if(a!==this.el){return}if(e){this.setActiveTab(e,{scrollBehavior:"smooth"})}}handleKeyDown(t){const s=t.target;const e=s.closest("sc-tab");const a=e===null||e===void 0?void 0:e.closest("sc-tab-group");if(a!==this.el){return true}if(["Enter"," "].includes(t.key)){if(e){this.setActiveTab(e,{scrollBehavior:"smooth"})}}if(["ArrowUp","ArrowDown","Home","End"].includes(t.key)){const s=document.activeElement;if(s&&s.tagName.toLowerCase()==="sc-tab"){let e=this.tabs.indexOf(s);if(t.key==="Home"){e=0}else if(t.key==="End"){e=this.tabs.length-1}else if(t.key==="ArrowUp"){e=Math.max(0,e-1)}else if(t.key==="ArrowDown"){e=Math.min(this.tabs.length-1,e+1)}this.tabs[e].triggerFocus({preventScroll:true});t.preventDefault()}}}setActiveTab(t,s){s=Object.assign({emitEvents:true,scrollBehavior:"auto"},s);if(t&&t!==this.activeTab&&!t.disabled){const e=this.activeTab;this.activeTab=t;this.tabs.map((t=>t.active=t===this.activeTab));this.panels.map((t=>t.active=t.name===this.activeTab.panel));if(s.emitEvents){if(e){this.scTabHide.emit(e.panel)}this.scTabShow.emit(this.activeTab.panel)}}}getActiveTab(){const t=this.getAllTabs();return t.find((t=>t.active))}getAllChildren(){const t=this.el.shadowRoot.querySelectorAll("slot");const s=["sc-tab","sc-tab-panel"];const e=Array.from(t).map((t=>{var s;return(s=t===null||t===void 0?void 0:t.assignedElements)===null||s===void 0?void 0:s.call(t,{flatten:true})})).flat();return e.reduce(((t,s)=>{var e;return t.concat(s,[...((e=s===null||s===void 0?void 0:s.querySelectorAll)===null||e===void 0?void 0:e.call(s,"*"))||[]])}),[]).filter((t=>{var e,a;return s.includes((a=(e=t===null||t===void 0?void 0:t.tagName)===null||e===void 0?void 0:e.toLowerCase)===null||a===void 0?void 0:a.call(e))}))}getAllTabs(t=false){return this.getAllChildren().filter((s=>t?s.tagName.toLowerCase()==="sc-tab":s.tagName.toLowerCase()==="sc-tab"&&!s.disabled))}getAllPanels(){return this.getAllChildren().filter((t=>t.tagName.toLowerCase()==="sc-tab-panel"))}render(){return e("div",{key:"4615c84a4e03e38e71f17d18ee83c881c3fa270e",part:"base",class:{"tab-group":true},onClick:t=>this.handleClick(t),onKeyDown:t=>this.handleKeyDown(t)},e("div",{key:"129980bb4d68e7d3234ca8f0c538ecf88b072a64",class:"tab-group__nav-container",part:"nav"},e("div",{key:"5732db586ad42f62d019a67c72e5ca012a0a3899",class:"tab-group__nav"},e("div",{key:"e74e2bd5e5edd8ddb55b2b889e2d9fdcd3a134d8",part:"tabs",class:"tab-group__tabs",role:"tablist"},e("slot",{key:"e911d6c40c8c0d08fa8e2bbc161e65e4ada1d807",onSlotchange:()=>this.syncTabsAndPanels(),name:"nav"})))),e("div",{key:"17ef1d5e0e4007acfc2d807be1fe3aa322b9dd99",part:"body",class:"tab-group__body"},e("slot",{key:"c8e6d80081395a64b853810e0fb5a68a48552343",onSlotchange:()=>this.syncTabsAndPanels()})))}get el(){return a(this)}};r.style=o;export{r as sc_tab_group};
//# sourceMappingURL=p-ebcb668b.entry.js.map