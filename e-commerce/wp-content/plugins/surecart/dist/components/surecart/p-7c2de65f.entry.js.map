{"version":3,"names":["scProductQuantityCss","ScProductQuantityStyle0","id","ScProductQuantity","this","inputId","helpId","labelId","render","maxStockQuantity","getMaxStockQuantity","_a","state","productId","product","_b","selectedVariant","h","Host","key","exportparts","size","required","label","showLabel","help","name","quantity","Math","max","_d","_c","selectedPrice","ad_hoc","_e","disabled","_g","_f","onScInput","e","setProduct","detail"],"sources":["src/components/controllers/product/sc-product-quantity/sc-product-quantity.css?tag=sc-product-quantity&encapsulation=shadow","src/components/controllers/product/sc-product-quantity/sc-product-quantity.tsx"],"sourcesContent":[":host {\n  display: block;\n}\n","import { Component, Host, h, Prop } from '@stencil/core';\nimport { state } from '@store/product';\nimport { setProduct } from '@store/product/setters';\nimport { getMaxStockQuantity } from '../../../../functions/quantity';\nlet id = 0;\n\n@Component({\n  tag: 'sc-product-quantity',\n  styleUrl: 'sc-product-quantity.css',\n  shadow: true,\n})\nexport class ScProductQuantity {\n  private inputId: string = `sc-quantity-${++id}`;\n  private helpId = `sc-quantity-help-text-${id}`;\n  private labelId = `sc-quantity-label-${id}`;\n\n  /** Size of the control */\n  @Prop({ reflect: true }) size: 'small' | 'medium' | 'large' = 'medium';\n\n  /** Name for the input. Used for validation errors. */\n  @Prop() name: string;\n\n  /** Display server-side validation errors. */\n  @Prop() errors: any;\n\n  /** Show the label. */\n  @Prop() showLabel: boolean = true;\n\n  /** Input label. */\n  @Prop() label: string;\n\n  /** Whether the input is required. */\n  @Prop() required: boolean = false;\n\n  /** Help text */\n  @Prop() help: string;\n\n  /** The product id */\n  @Prop() productId: string;\n\n  render() {\n    const maxStockQuantity = getMaxStockQuantity(state[this.productId]?.product, state[this.productId]?.selectedVariant);\n\n    return (\n      <Host>\n        <sc-form-control\n          exportparts=\"label, help-text, form-control\"\n          size={this.size}\n          required={this.required}\n          label={this.label}\n          showLabel={this.showLabel}\n          help={this.help}\n          inputId={this.inputId}\n          helpId={this.helpId}\n          labelId={this.labelId}\n          name={this.name}\n        >\n          <sc-quantity-select\n            size={this.size}\n            quantity={Math.max(state[this.productId]?.selectedPrice?.ad_hoc ? 1 : state[this.productId]?.quantity, 1)}\n            disabled={state[this.productId]?.selectedPrice?.ad_hoc}\n            onScInput={e => setProduct(this.productId, { quantity: e.detail })}\n            {...(!!maxStockQuantity ? { max: maxStockQuantity } : {})}\n          ></sc-quantity-select>\n        </sc-form-control>\n      </Host>\n    );\n  }\n}\n"],"mappings":"ySAAA,MAAMA,EAAuB,uBAC7B,MAAAC,EAAeD,ECGf,IAAIE,EAAK,E,MAOIC,EAAiB,M,yBACpBC,KAAAC,QAAkB,iBAAiBH,IACnCE,KAAAE,OAAS,yBAAyBJ,IAClCE,KAAAG,QAAU,qBAAqBL,I,UAGuB,S,yDASjC,K,mCAMD,M,6CAQ5B,MAAAM,G,kBACE,MAAMC,EAAmBC,GAAoBC,EAAAC,EAAMR,KAAKS,cAAU,MAAAF,SAAA,SAAAA,EAAEG,SAASC,EAAAH,EAAMR,KAAKS,cAAU,MAAAE,SAAA,SAAAA,EAAEC,iBAEpG,OACEC,EAACC,EAAI,CAAAC,IAAA,4CACHF,EAAA,mBAAAE,IAAA,2CACEC,YAAY,iCACZC,KAAMjB,KAAKiB,KACXC,SAAUlB,KAAKkB,SACfC,MAAOnB,KAAKmB,MACZC,UAAWpB,KAAKoB,UAChBC,KAAMrB,KAAKqB,KACXpB,QAASD,KAAKC,QACdC,OAAQF,KAAKE,OACbC,QAASH,KAAKG,QACdmB,KAAMtB,KAAKsB,MAEXT,EAAA,sBAAAE,IAAA,2CACEE,KAAMjB,KAAKiB,KACXM,SAAUC,KAAKC,MAAIC,GAAAC,EAAAnB,EAAMR,KAAKS,cAAU,MAAAkB,SAAA,SAAAA,EAAEC,iBAAa,MAAAF,SAAA,SAAAA,EAAEG,QAAS,GAAIC,EAAAtB,EAAMR,KAAKS,cAAU,MAAAqB,SAAA,SAAAA,EAAEP,SAAU,GACvGQ,UAAUC,GAAAC,EAAAzB,EAAMR,KAAKS,cAAU,MAAAwB,SAAA,SAAAA,EAAEL,iBAAa,MAAAI,SAAA,SAAAA,EAAEH,OAChDK,UAAWC,GAAKC,EAAWpC,KAAKS,UAAW,CAAEc,SAAUY,EAAEE,cAClDhC,EAAmB,CAAEoB,IAAKpB,GAAqB,M","ignoreList":[]}