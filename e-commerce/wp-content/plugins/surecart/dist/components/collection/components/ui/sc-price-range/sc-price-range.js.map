{"version":3,"file":"sc-price-range.js","sourceRoot":"","sources":["../../../../src/components/ui/sc-price-range/sc-price-range.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AAEvE,OAAO,EAAE,EAAE,EAAE,MAAM,iBAAiB,CAAC;AAOrC,MAAM,OAAO,YAAY;;;;;;IAQvB,kBAAkB;QAChB,IAAI,GAAU,EAAE,GAAU,CAAC;QAE3B,CAAC,IAAI,CAAC,MAAM,IAAI,EAAE,CAAC;aAChB,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA,CAAC,aAAD,CAAC,uBAAD,CAAC,CAAE,QAAQ,CAAA,CAAC;aACzB,OAAO,CAAC,KAAK,CAAC,EAAE;YACf,IAAI,CAAC,GAAG,IAAI,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC;gBACtC,GAAG,GAAG,KAAK,CAAC;YACd,CAAC;YAED,IAAI,CAAC,GAAG,IAAI,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC;gBACtC,GAAG,GAAG,KAAK,CAAC;YACd,CAAC;QACH,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;QACpB,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;IACtB,CAAC;IAED,iBAAiB;QACf,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC5B,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;YACrC,OAAO,EAAC,IAAI,OAAQ,CAAC;QACvB,CAAC;QAED,OAAO,CACL,EAAC,IAAI,QACF,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAC9C;YACE,wBAAkB,IAAI,EAAC,UAAU,EAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAqB,CAC/G,CACR,CAAC,CAAC,CAAC,CACF;YACE;gBAAqB,EAAE,CAAC,kBAAkB,EAAE,UAAU,CAAC;oBAAuB;YAC9E,wBAAkB,IAAI,EAAC,UAAU,EAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAqB;YACpH,mCAAmB,KAAK,CAAQ;YAChC,8BAAqB,EAAE,CAAC,IAAI,EAAE,UAAU,CAAC,CAAsB;YAC/D,wBAAkB,IAAI,EAAC,UAAU,EAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAqB,CAC/G,CACR,CACI,CACR,CAAC;IACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, Host, h, Prop, Watch, State } from '@stencil/core';\nimport { Price } from '../../../types';\nimport { __ } from '@wordpress/i18n';\n\n@Component({\n  tag: 'sc-price-range',\n  styleUrl: 'sc-price-range.scss',\n  shadow: true,\n})\nexport class ScPriceRange {\n  /**The array of price objects */\n  @Prop() prices: Price[];\n\n  @State() private minPrice: Price;\n  @State() private maxPrice: Price;\n\n  @Watch('prices')\n  handlePricesChange() {\n    let min: Price, max: Price;\n\n    (this.prices || [])\n      .filter(p => !p?.archived)\n      .forEach(price => {\n        if (!max || price.amount > max.amount) {\n          max = price;\n        }\n\n        if (!min || price.amount < min.amount) {\n          min = price;\n        }\n      });\n\n    this.minPrice = min;\n    this.maxPrice = max;\n  }\n\n  componentWillLoad() {\n    this.handlePricesChange();\n  }\n\n  render() {\n    if (!this.maxPrice || !this.minPrice) {\n      return <Host></Host>;\n    }\n\n    return (\n      <Host>\n        {this.maxPrice.amount == this.minPrice.amount ? (\n          <span>\n            <sc-format-number type=\"currency\" currency={this.maxPrice.currency} value={this.maxPrice.amount}></sc-format-number>\n          </span>\n        ) : (\n          <span>\n            <sc-visually-hidden>{__('Price range from', 'surecart')} </sc-visually-hidden>\n            <sc-format-number type=\"currency\" currency={this.minPrice.currency} value={this.minPrice.amount}></sc-format-number>\n            <span aria-hidden>{' â€” '}</span>\n            <sc-visually-hidden>{__('to', 'surecart')}</sc-visually-hidden>\n            <sc-format-number type=\"currency\" currency={this.maxPrice.currency} value={this.maxPrice.amount}></sc-format-number>\n          </span>\n        )}\n      </Host>\n    );\n  }\n}\n"]}