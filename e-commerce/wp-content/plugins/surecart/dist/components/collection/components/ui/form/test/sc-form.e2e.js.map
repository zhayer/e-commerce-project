{"version":3,"file":"sc-form.e2e.js","sourceRoot":"","sources":["../../../../../src/components/ui/form/test/sc-form.e2e.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,uBAAuB,CAAC;AAEnD,QAAQ,CAAC,SAAS,EAAE,GAAG,EAAE;IACvB,EAAE,CAAC,SAAS,EAAE,KAAK,IAAI,EAAE;QACvB,MAAM,IAAI,GAAG,MAAM,UAAU,EAAE,CAAC;QAChC,MAAM,IAAI,CAAC,UAAU,CAAC,qBAAqB,CAAC,CAAC;QAE7C,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC3C,MAAM,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;IAC1C,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,cAAc,EAAE,KAAK,IAAI,EAAE;QAC5B,MAAM,IAAI,GAAG,MAAM,UAAU,EAAE,CAAC;QAChC,MAAM,IAAI,CAAC,UAAU,CAAC;;;;;;KAMrB,CAAC,CAAC;QACH,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACxC,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC;QAC3D,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;QAEnD,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC9C,MAAM,QAAQ,CAAC,KAAK,EAAE,CAAC;QACvB,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;QAC5B,MAAM,CAAC,QAAQ,CAAC,CAAC,wBAAwB,CAAC,CAAC,CAAC,CAAC;QAC7C,MAAM,CAAC,YAAY,CAAC,CAAC,wBAAwB,CAAC,CAAC,CAAC,CAAC;IACnD,CAAC,CAAC,CAAC;IAEH,mEAAmE;IACnE,EAAE,CAAC,iBAAiB,EAAE,KAAK,IAAI,EAAE;QAC/B,iHAAiH;QACjH,MAAM,IAAI,GAAG,MAAM,UAAU,EAAE,CAAC;QAChC,MAAM,IAAI,CAAC,UAAU,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;KA4BrB,CAAC,CAAC;QACH,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAExC,sBAAsB;QACtB,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;QAC9D,QAAQ,CAAC,WAAW,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;QAC9C,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;QAC5B,QAAQ,CAAC,WAAW,CAAC,iBAAiB,EAAE,EAAE,EAAE,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,cAAc,EAAE,MAAM,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;QAEhK,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;QAE5B,kBAAkB;QAClB,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC;QAClD,MAAM,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC;YACnB,UAAU,EAAE,UAAU;YACtB,WAAW,EAAE,QAAQ;YACrB,UAAU,EAAE,UAAU;YACtB,WAAW,EAAE,WAAW;YACxB,aAAa,EAAE,aAAa;YAC5B,WAAW,EAAE,WAAW;YACxB,iBAAiB,EAAE,iBAAiB;YACpC,mBAAmB,EAAE,mBAAmB;YACxC,OAAO,EAAE,iBAAiB;YAC1B,MAAM,EAAE,mBAAmB;YAC3B,OAAO,EAAE,YAAY;YACrB,UAAU,EAAE,MAAM;YAClB,4BAA4B,EAAE,OAAO;SACtC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import { newE2EPage } from '@stencil/core/testing';\n\ndescribe('sc-form', () => {\n  it('renders', async () => {\n    const page = await newE2EPage();\n    await page.setContent('<sc-form></sc-form>');\n\n    const element = await page.find('sc-form');\n    expect(element).toHaveClass('hydrated');\n  });\n\n  it('Submits data', async () => {\n    const page = await newE2EPage();\n    await page.setContent(`\n    <sc-form>\n      <sc-input name=\"name\" value=\"Tester\"></sc-input>\n      <button type=\"submit\">Test</button>\n      <sc-button submit>Test CE</sc-button>\n    </sc-form>\n    `);\n    const form = await page.find('sc-form');\n    const scFormSubmit = await form.spyOnEvent('scFormSubmit');\n    const scSubmit = await form.spyOnEvent('scSubmit');\n\n    const scButton = await page.find('sc-button');\n    await scButton.click();\n    await page.waitForChanges();\n    expect(scSubmit).toHaveReceivedEventTimes(1);\n    expect(scFormSubmit).toHaveReceivedEventTimes(1);\n  });\n\n  // we are testing this because JEST doesn't work well with FormData\n  it('Serializes data', async () => {\n    //TODO: add the sc-order-tax-id-input field to the form and use playwright to mock the stencil store - 2020-07-28\n    const page = await newE2EPage();\n    await page.setContent(`\n    <sc-form>\n      <sc-input name=\"ce_input\" value=\"CE Input\"></sc-input>\n      <sc-switch name=\"ce_switch\" value=\"switch\" checked></sc-switch>\n      <sc-radio-group>\n        <sc-radio value=\"CE Radio\" name=\"ce_radio\" checked></sc-radio>\n        <sc-radio value=\"Invalid\" name=\"ce_radio\"></sc-radio>\n      </sc-radio-group>\n      <sc-checkbox value=\"CE Checkbox\" name=\"ce_checkbox\" checked></sc-checkbox>\n      <sc-choices>\n        <sc-choice value=\"CE Choice\" name=\"ce_choice\" checked></sc-choice>\n        <sc-choice value=\"Invalid\" name=\"ce_choice\"></sc-choice>\n      </sc-choices>\n      <sc-choices>\n        <sc-choice value=\"CE Choice Check\" name=\"ce_check_choice\" checked type=\"checkbox\"></sc-choice>\n        <sc-choice value=\"CE Choice Check 1\" name=\"ce_check_choice_1\" checked type=\"checkbox\"></sc-choice>\n      </sc-choices>\n\n      <sc-select value=\"CE Select\" name=\"ce_select\"></sc-select>\n\n      <!-- Order form fields -->\n      <sc-customer-name value=\"Testy McTesterson\"></sc-customer-name>\n      <sc-customer-email value=\"order@email.com\"></sc-customer-email>\n      <sc-customer-phone value=\"0987654321\"></sc-customer-phone>\n      <sc-order-shipping-address></sc-order-shipping-address>\n      <sc-order-tax-id-input></sc-order-tax-id-input>\n      <sc-order-password value=\"pass\"></sc-order-password>\n    </sc-form>\n    `);\n    const form = await page.find('sc-form');\n\n    // set shipping value.\n    const shipping = await page.find('sc-order-shipping-address');\n    shipping.setProperty('shippingEnabled', true);\n    await page.waitForChanges();\n    shipping.setProperty('shippingAddress', { id: 'test', country: 'US', city: 'Monona', line_1: '303 Park Ave', line_2: null, postal_code: '12345', state: 'WI' });\n\n    await page.waitForChanges();\n\n    // serialize form.\n    const data = await form.callMethod('getFormJson');\n    expect(data).toEqual({\n      'ce_input': 'CE Input',\n      'ce_switch': 'switch',\n      'ce_radio': 'CE Radio',\n      'ce_select': 'CE Select',\n      'ce_checkbox': 'CE Checkbox',\n      'ce_choice': 'CE Choice',\n      'ce_check_choice': 'CE Choice Check',\n      'ce_check_choice_1': 'CE Choice Check 1',\n      'email': 'order@email.com',\n      'name': 'Testy McTesterson',\n      'phone': '0987654321',\n      'password': 'pass',\n      'tax_identifier.number_type': 'other',\n    });\n  });\n});\n"]}