{"version":3,"file":"sc-consumer.js","sourceRoot":"","sources":["../../../../src/components/context/consumer/sc-consumer.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,KAAK,EAAgB,IAAI,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AAK5E,MAAM,OAAO,UAAU;IAOrB;QAMA,eAAU,GAAG,KAAK,EAAE,OAAY,EAAE,EAAE;YAClC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YACvB,OAAO,IAAI,CAAC,OAAO,CAAC;QACtB,CAAC,CAAC;;;;;QARA,IAAI,CAAC,OAAO,GAAG,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE;YACnC,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC;QAChC,CAAC,CAAC,CAAC;KACJ;IAOD,iBAAiB;QACf,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAC1C,CAAC;IAED,oBAAoB;QAClB,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YAClB,OAAO,IAAI,CAAC;QACd,CAAC;QACD,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACrC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, Event, EventEmitter, Prop, State } from '@stencil/core';\n\n@Component({\n  tag: 'sc-consumer',\n})\nexport class ScConsumer {\n  @Prop() renderer: any;\n  @State() context: any;\n  @Event({ eventName: 'mountConsumer' }) mountEmitter: EventEmitter;\n  @State() promise: Promise<any>;\n  @State() resolvePromise: any;\n\n  constructor() {\n    this.promise = new Promise(resolve => {\n      this.resolvePromise = resolve;\n    });\n  }\n\n  setContext = async (context: any) => {\n    this.context = context;\n    return this.promise;\n  };\n\n  componentWillLoad() {\n    this.mountEmitter.emit(this.setContext);\n  }\n\n  disconnectedCallback() {\n    this.resolvePromise();\n  }\n\n  render() {\n    if (!this.context) {\n      return null;\n    }\n    return this.renderer(this.context);\n  }\n}\n"]}