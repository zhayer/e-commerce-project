{"version":3,"file":"sc-subscription-ad-hoc-confirm.js","sourceRoot":"","sources":["../../../../../src/components/controllers/dashboard/subscription-ad-hoc-confirm/sc-subscription-ad-hoc-confirm.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AAC1D,OAAO,EAAE,EAAE,EAAE,MAAM,iBAAiB,CAAC;AACrC,OAAO,EAAE,YAAY,EAAE,MAAM,gBAAgB,CAAC;AAC9C,OAAO,EAAE,cAAc,EAAE,MAAM,6BAA6B,CAAC;AAQ7D,MAAM,OAAO,0BAA0B;;;;oBAGZ,KAAK;;IAE9B,KAAK,CAAC,YAAY,CAAC,CAAC;QAClB,MAAM,EAAE,aAAa,EAAE,GAAG,MAAM,CAAC,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;QAEvD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,OAAO,MAAM,CAAC,QAAQ,CAAC,MAAM,CAC3B,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,EAAE;YACjC,MAAM,EAAE,SAAS;YACjB,aAAa;SACd,CAAC,CACH,CAAC;IACJ,CAAC;IAED,MAAM;QACJ,OAAO,CACL,4EAAqB,OAAO,EAAE,IAAI,CAAC,OAAO,IAAI,EAAE,CAAC,iBAAiB,EAAE,UAAU,CAAC,EAAE,KAAK,EAAC,qBAAqB;YAC1G;gBACE,gEAAS,UAAU,EAAE,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;oBAC5C,uEAAgB,KAAK,EAAC,QAAQ,EAAC,IAAI,EAAC,eAAe,EAAC,SAAS,QAAC,QAAQ;wBACpE,6DAAM,IAAI,EAAC,QAAQ,EAAC,KAAK,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE,IAC3C,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CACtB,CACQ;oBACjB,kEAAW,IAAI,EAAC,SAAS,EAAC,IAAI,QAAC,MAAM,QAAC,OAAO,EAAE,IAAI,CAAC,IAAI;wBACrD,EAAE,CAAC,MAAM,EAAE,UAAU,CAAC;;wBAAE,gEAAS,IAAI,EAAC,aAAa,EAAC,IAAI,EAAC,QAAQ,GAAW,CACnE,CACJ,CACF;YACT,IAAI,CAAC,IAAI,IAAI,oEAAa,KAAK,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,GAAgB,CAC7C,CACvB,CAAC;IACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, h, Prop, State } from '@stencil/core';\nimport { __ } from '@wordpress/i18n';\nimport { addQueryArgs } from '@wordpress/url';\nimport { intervalString } from '../../../../functions/price';\nimport { Price } from '../../../../types';\n\n@Component({\n  tag: 'sc-subscription-ad-hoc-confirm',\n  styleUrl: 'sc-subscription-ad-hoc-confirm.scss',\n  shadow: false,\n})\nexport class ScSubscriptionAdHocConfirm {\n  @Prop() heading: string;\n  @Prop() price: Price;\n  @State() busy: boolean = false;\n\n  async handleSubmit(e) {\n    const { ad_hoc_amount } = await e.target.getFormJson();\n\n    this.busy = true;\n    return window.location.assign(\n      addQueryArgs(window.location.href, {\n        action: 'confirm',\n        ad_hoc_amount,\n      }),\n    );\n  }\n\n  render() {\n    return (\n      <sc-dashboard-module heading={this.heading || __('Enter An Amount', 'surecart')} class=\"subscription-switch\">\n        <sc-card>\n          <sc-form onScSubmit={e => this.handleSubmit(e)}>\n            <sc-price-input label=\"Amount\" name=\"ad_hoc_amount\" autofocus required>\n              <span slot=\"suffix\" style={{ opacity: '0.75' }}>\n                {intervalString(this.price)}\n              </span>\n            </sc-price-input>\n            <sc-button type=\"primary\" full submit loading={this.busy}>\n              {__('Next', 'surecart')} <sc-icon name=\"arrow-right\" slot=\"suffix\"></sc-icon>\n            </sc-button>\n          </sc-form>\n        </sc-card>\n        {this.busy && <sc-block-ui style={{ zIndex: '9' }}></sc-block-ui>}\n      </sc-dashboard-module>\n    );\n  }\n}\n"]}