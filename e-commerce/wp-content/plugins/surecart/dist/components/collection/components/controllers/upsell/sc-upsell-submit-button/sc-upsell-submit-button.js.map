{"version":3,"file":"sc-upsell-submit-button.js","sourceRoot":"","sources":["../../../../../src/components/controllers/upsell/sc-upsell-submit-button/sc-upsell-submit-button.tsx"],"names":[],"mappings":"AAAA;;GAEG;AACH,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,eAAe,CAAC;AAE5D;;GAEG;AACH,OAAO,EAAE,KAAK,IAAI,WAAW,EAAE,MAAM,eAAe,CAAC;AACrD,OAAO,EAAE,KAAK,IAAI,YAAY,EAAE,MAAM,gBAAgB,CAAC;AACvD,OAAO,EAAE,mBAAmB,EAAE,wBAAwB,EAAE,MAAM,wBAAwB,CAAC;AACvF,OAAO,EAAE,MAAM,EAAE,MAAM,yBAAyB,CAAC;AACjD,OAAO,EAAE,MAAM,EAAE,MAAM,uBAAuB,CAAC;AAM/C,MAAM,OAAO,oBAAoB;IAG/B,kBAAkB;;QAChB,OAAO,CAAA,MAAA,WAAW,CAAC,OAAO,0CAAE,EAAE,KAAI,EAAE,CAAC;IACvC,CAAC;IAED,KAAK,CAAC,qBAAqB,CAAC,CAAC;QAC3B,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,MAAM,EAAE,CAAC;IACX,CAAC;IAED,MAAM;QACJ,OAAO,CACL,EAAC,IAAI,qDACH,KAAK,EAAE;gBACL,SAAS,EAAE,MAAM,EAAE;gBACnB,aAAa,EAAE,WAAW,CAAC,QAAQ;gBACnC,mDAAmD;gBACnD,aAAa,EAAE,CAAC,mBAAmB,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC,IAAI,CAAA,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,IAAI,MAAK,cAAc;gBAChK,gBAAgB,EAAE,wBAAwB,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,IAAI,CAAA,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,IAAI,MAAK,SAAS;aAC1G,EACD,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC;YAE3C,8DAAQ,CACH,CACR,CAAC;IACJ,CAAC;;;;;;;;;CACF","sourcesContent":["/**\n * External dependencies.\n */\nimport { Component, Element, h, Host } from '@stencil/core';\n\n/**\n * Internal dependencies.\n */\nimport { state as upsellState } from '@store/upsell';\nimport { state as noticesState } from '@store/notices';\nimport { isProductOutOfStock, isSelectedVariantMissing } from '@store/product/getters';\nimport { accept } from '@store/upsell/mutations';\nimport { isBusy } from '@store/upsell/getters';\n\n@Component({\n  tag: 'sc-upsell-submit-button',\n  styleUrl: 'sc-upsell-submit-button.scss',\n})\nexport class ScUpsellSubmitButton {\n  @Element() el: HTMLScUpsellSubmitButtonElement;\n\n  getUpsellProductId() {\n    return upsellState.product?.id || '';\n  }\n\n  async handleAddToOrderClick(e) {\n    e.preventDefault();\n    accept();\n  }\n\n  render() {\n    return (\n      <Host\n        class={{\n          'is-busy': isBusy(),\n          'is-disabled': upsellState.disabled,\n          // TODO: change this to out of stock error message.\n          'is-sold-out': (isProductOutOfStock(this.getUpsellProductId()) && !isSelectedVariantMissing(this.getUpsellProductId())) || noticesState?.code === 'out_of_stock',\n          'is-unavailable': isSelectedVariantMissing(this.getUpsellProductId()) || noticesState?.code === 'expired',\n        }}\n        onClick={e => this.handleAddToOrderClick(e)}\n      >\n        <slot />\n      </Host>\n    );\n  }\n}\n"]}