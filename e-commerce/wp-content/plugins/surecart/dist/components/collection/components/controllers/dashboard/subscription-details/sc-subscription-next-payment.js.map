{"version":3,"file":"sc-subscription-next-payment.js","sourceRoot":"","sources":["../../../../../src/components/controllers/dashboard/subscription-details/sc-subscription-next-payment.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, h, Prop, State, Host, Watch } from '@stencil/core';\nimport { __ } from '@wordpress/i18n';\nimport { addQueryArgs } from '@wordpress/url';\nimport apiFetch from '../../../../functions/fetch';\nimport { intervalString, translateRemainingPayments } from '../../../../functions/price';\nimport { formatTaxDisplay } from '../../../../functions/tax';\nimport { Checkout, Period, Product, ResponseError, Subscription, ManualPaymentMethod } from '../../../../types';\n\n@Component({\n  tag: 'sc-subscription-next-payment',\n  shadow: true,\n})\nexport class ScSubscriptionNextPayment {\n  @Prop() subscription: Subscription;\n  /** Update the payment method url */\n  @Prop() updatePaymentMethodUrl: string;\n\n  @State() period: Period;\n  @State() loading: boolean = true;\n  @State() error: ResponseError;\n  @State() details: boolean;\n\n  componentWillLoad() {\n    this.fetch();\n  }\n\n  @Watch('subscription')\n  handleSubscriptionChange() {\n    this.fetch();\n  }\n\n  async fetch() {\n    if (this.subscription?.cancel_at_period_end && this.subscription.current_period_end_at) {\n      this.loading = false;\n      return;\n    }\n    if (this.subscription?.status === 'canceled') {\n      this.loading = false;\n      return;\n    }\n    try {\n      this.loading = true;\n      this.period = (await apiFetch({\n        method: 'PATCH',\n        path: addQueryArgs(`surecart/v1/subscriptions/${this.subscription?.id}/upcoming_period`, {\n          skip_product_group_validation: true,\n          expand: [\n            'period.checkout',\n            'checkout.line_items',\n            'checkout.payment_method',\n            'checkout.manual_payment_method',\n            'payment_method.card',\n            'payment_method.payment_instrument',\n            'payment_method.paypal_account',\n            'payment_method.bank_account',\n            'line_item.price',\n            'price.product',\n            'period.subscription',\n          ],\n        }),\n        data: {\n          purge_pending_update: false,\n        },\n      })) as Period;\n    } catch (e) {\n      console.error(e);\n      this.error = e;\n    } finally {\n      this.loading = false;\n    }\n  }\n\n  render() {\n    if (this.loading) {\n      return (\n        <sc-toggle borderless disabled>\n          <sc-flex slot=\"summary\" flexDirection=\"column\">\n            <sc-skeleton style={{ width: '200px' }}></sc-skeleton>\n            <sc-skeleton style={{ width: '400px' }}></sc-skeleton>\n            <sc-skeleton style={{ width: '300px' }}></sc-skeleton>\n          </sc-flex>\n        </sc-toggle>\n      );\n    }\n\n    const checkout = this?.period?.checkout as Checkout;\n    if (!checkout)\n      return (\n        <div style={{ padding: 'var(--sc-spacing-medium)' }}>\n          <sc-subscription-details slot=\"summary\" subscription={this.subscription}></sc-subscription-details>\n        </div>\n      );\n\n    const manualPaymentMethod = checkout?.manual_payment ? (checkout?.manual_payment_method as ManualPaymentMethod) : null;\n    const paymentMethodExists = this?.subscription.payment_method || this?.subscription.manual_payment;\n\n    return (\n      <Host>\n        <sc-toggle borderless shady>\n          <span slot=\"summary\">\n            <sc-subscription-details subscription={this.subscription}>\n              <div style={{ fontSize: 'var(--sc-font-size-small)' }}>\n                {__('Your next payment is', 'surecart')}{' '}\n                <strong>\n                  <sc-format-number type=\"currency\" currency={checkout?.currency} value={checkout?.amount_due} />\n                </strong>{' '}\n                {!!this.subscription?.finite && ' â€” ' + translateRemainingPayments(this.subscription?.remaining_period_count)}\n              </div>\n            </sc-subscription-details>\n          </span>\n\n          <sc-card noPadding borderless>\n            {checkout?.line_items?.data.map(item => (\n              <sc-product-line-item\n                image={(item.price?.product as Product)?.line_item_image}\n                name={(item.price?.product as Product)?.name}\n                priceName={item?.price?.name}\n                variantLabel={(item?.variant_options || []).filter(Boolean).join(' / ') || null}\n                editable={false}\n                removable={false}\n                quantity={item?.quantity}\n                amount={item?.subtotal_amount}\n                currency={item?.price?.currency}\n                interval={intervalString(item?.price)}\n                purchasableStatusDisplay={item?.purchasable_status_display}\n              ></sc-product-line-item>\n            ))}\n\n            <sc-line-item>\n              <span slot=\"description\">{__('Subtotal', 'surecart')}</span>\n              <sc-format-number slot=\"price\" type=\"currency\" currency={checkout?.currency} value={checkout?.subtotal_amount}></sc-format-number>\n            </sc-line-item>\n\n            {!!checkout.proration_amount && (\n              <sc-line-item>\n                <span slot=\"description\">{__('Proration Credit', 'surecart')}</span>\n                <sc-format-number slot=\"price\" type=\"currency\" currency={checkout?.currency} value={-checkout?.proration_amount}></sc-format-number>\n              </sc-line-item>\n            )}\n\n            {!!checkout.applied_balance_amount && (\n              <sc-line-item>\n                <span slot=\"description\">{__('Applied Balance', 'surecart')}</span>\n                <sc-format-number slot=\"price\" type=\"currency\" currency={checkout?.currency} value={-checkout?.applied_balance_amount}></sc-format-number>\n              </sc-line-item>\n            )}\n\n            {!!checkout.trial_amount && (\n              <sc-line-item>\n                <span slot=\"description\">{__('Trial', 'surecart')}</span>\n                <sc-format-number slot=\"price\" type=\"currency\" currency={checkout?.currency} value={checkout?.trial_amount}></sc-format-number>\n              </sc-line-item>\n            )}\n\n            {!!checkout?.discount_amount && (\n              <sc-line-item>\n                <span slot=\"description\">{__('Discounts', 'surecart')}</span>\n                <sc-format-number slot=\"price\" type=\"currency\" currency={checkout?.currency} value={checkout?.discount_amount}></sc-format-number>\n              </sc-line-item>\n            )}\n\n            {!!checkout?.shipping_amount && (\n              <sc-line-item style={{ marginTop: 'var(--sc-spacing-small)' }}>\n                <span slot=\"description\">{__('Shipping', 'surecart')}</span>\n                <sc-format-number slot=\"price\" type=\"currency\" currency={checkout?.currency} value={checkout?.shipping_amount}></sc-format-number>\n              </sc-line-item>\n            )}\n\n            {!!checkout.tax_amount && (\n              <sc-line-item>\n                <span slot=\"description\">{formatTaxDisplay(checkout?.tax_label)}</span>\n                <sc-format-number slot=\"price\" type=\"currency\" currency={checkout?.currency} value={checkout?.tax_amount}></sc-format-number>\n              </sc-line-item>\n            )}\n\n            <sc-divider style={{ '--spacing': '0' }}></sc-divider>\n\n            <sc-line-item>\n              <span slot=\"description\">{__('Payment', 'surecart')}</span>\n              {paymentMethodExists && (\n                <a href={this.updatePaymentMethodUrl} slot=\"price-description\">\n                  <sc-flex justify-content=\"flex-start\" align-items=\"center\" style={{ '--spacing': '0.5em' }}>\n                    {manualPaymentMethod ? <sc-manual-payment-method paymentMethod={manualPaymentMethod} /> : <sc-payment-method paymentMethod={checkout?.payment_method} />}\n                    <sc-icon name=\"edit-3\"></sc-icon>\n                  </sc-flex>\n                </a>\n              )}\n              {!paymentMethodExists && (\n                <a\n                  href={addQueryArgs(window.location.href, {\n                    action: 'create',\n                    model: 'payment_method',\n                    id: this?.subscription.id,\n                    ...(this?.subscription?.live_mode === false ? { live_mode: false } : {}),\n                  })}\n                  slot=\"price-description\"\n                >\n                  {__('Add Payment Method', 'surecart')}\n                </a>\n              )}\n            </sc-line-item>\n\n            <sc-line-item style={{ '--price-size': 'var(--sc-font-size-x-large)' }}>\n              <span slot=\"title\">{__('Total Due', 'surecart')}</span>\n              <sc-format-number slot=\"price\" type=\"currency\" currency={checkout?.currency} value={checkout?.amount_due}></sc-format-number>\n              <span slot=\"currency\">{checkout.currency}</span>\n            </sc-line-item>\n          </sc-card>\n        </sc-toggle>\n      </Host>\n    );\n  }\n}\n"]}