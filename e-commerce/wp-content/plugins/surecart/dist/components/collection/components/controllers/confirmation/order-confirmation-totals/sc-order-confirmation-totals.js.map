{"version":3,"file":"sc-order-confirmation-totals.js","sourceRoot":"","sources":["../../../../../src/components/controllers/confirmation/order-confirmation-totals/sc-order-confirmation-totals.tsx"],"names":[],"mappings":"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","sourcesContent":["import { getHumanDiscount } from '../../../../functions/price';\nimport { Checkout } from '../../../../types';\nimport { Component, h, Prop } from '@stencil/core';\nimport { __ } from '@wordpress/i18n';\nimport { openWormhole } from 'stencil-wormhole';\nimport { formatTaxDisplay } from '../../../../functions/tax';\n\n@Component({\n  tag: 'sc-order-confirmation-totals',\n  styleUrl: 'sc-order-confirmation-totals.css',\n  shadow: true,\n})\nexport class ScOrderConfirmationTotals {\n  @Prop() order: Checkout;\n\n  renderDiscountLine() {\n    if (!this.order?.discount?.promotion?.code) {\n      return null;\n    }\n\n    let humanDiscount = '';\n\n    if (this.order?.discount?.coupon) {\n      humanDiscount = getHumanDiscount(this.order?.discount?.coupon);\n    }\n\n    return (\n      <sc-line-item style={{ marginTop: 'var(--sc-spacing-small)' }}>\n        <span slot=\"description\">\n          {__('Discount', 'surecart')}\n          <br />\n          {this.order?.discount?.promotion?.code && (\n            <sc-tag type=\"success\" size=\"small\">\n              {this.order?.discount?.promotion?.code}\n            </sc-tag>\n          )}\n        </span>\n        {humanDiscount && (\n          <span class=\"coupon-human-discount\" slot=\"price-description\">\n            ({humanDiscount})\n          </span>\n        )}\n        <sc-format-number slot=\"price\" type=\"currency\" currency={this.order?.currency} value={-this.order?.discount_amount}></sc-format-number>\n      </sc-line-item>\n    );\n  }\n\n  render() {\n    return (\n      <div class={{ 'line-item-totals': true }}>\n        <sc-line-item-total checkout={this.order} total=\"subtotal\">\n          <span slot=\"description\">{__('Subtotal', 'surecart')}</span>\n        </sc-line-item-total>\n        {this.renderDiscountLine()}\n\n        {!!this.order?.bump_amount && (\n          <sc-line-item style={{ marginTop: 'var(--sc-spacing-small)' }}>\n            <span slot=\"description\">{__('Bundle Discount', 'surecart')}</span>\n            <sc-format-number slot=\"price\" type=\"currency\" currency={this.order?.currency} value={this.order?.bump_amount}></sc-format-number>\n          </sc-line-item>\n        )}\n\n        {!!this.order?.shipping_amount && (\n          <sc-line-item style={{ marginTop: 'var(--sc-spacing-small)' }}>\n            <span slot=\"description\">{__('Shipping', 'surecart')}</span>\n            <sc-format-number slot=\"price\" type=\"currency\" currency={this.order?.currency} value={this.order?.shipping_amount}></sc-format-number>\n          </sc-line-item>\n        )}\n\n        {!!this.order?.tax_amount && (\n          <sc-line-item style={{ marginTop: 'var(--sc-spacing-small)' }}>\n            <span slot=\"description\">\n              {formatTaxDisplay(this.order?.tax_label)} {`(${this.order.tax_percent}%)`}\n            </span>\n            <sc-format-number slot=\"price\" type=\"currency\" currency={this.order?.currency} value={this.order?.tax_amount}></sc-format-number>\n          </sc-line-item>\n        )}\n\n        <sc-divider style={{ '--spacing': 'var(--sc-spacing-small)' }}></sc-divider>\n        <sc-line-item-total checkout={this.order} size=\"large\" show-currency>\n          <span slot=\"description\">{__('Total', 'surecart')}</span>\n        </sc-line-item-total>\n      </div>\n    );\n  }\n}\n\nopenWormhole(ScOrderConfirmationTotals, ['order', 'busy', 'loading', 'empty'], false);\n"]}