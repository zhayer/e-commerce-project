{"version":3,"file":"sc-price.js","sourceRoot":"","sources":["../../../../src/components/ui/price/sc-price.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * External dependencies.\n */\nimport { Component, h, Prop, Fragment, Host } from '@stencil/core';\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport { intervalString } from '../../../functions/price';\n\n/**\n * Internal dependencies.\n */\n\n@Component({\n  tag: 'sc-price',\n  styleUrl: 'sc-price.scss',\n  shadow: true,\n})\nexport class ScProductPrice {\n  /** The currency. */\n  @Prop() currency: string;\n\n  /** The amount */\n  @Prop() amount: number;\n\n  /** The scratch amount */\n  @Prop() scratchAmount: number;\n\n  /** The sale text */\n  @Prop() saleText: string;\n\n  /** Is the product ad_hoc? */\n  @Prop() adHoc: boolean;\n\n  /** The recurring period count */\n  @Prop() recurringPeriodCount: number;\n\n  /** The recurring interval count */\n  @Prop() recurringIntervalCount: number;\n\n  /** The recurring interval */\n  @Prop() recurringInterval: 'week' | 'month' | 'year' | 'never';\n\n  /** The setup fee amount */\n  @Prop() setupFeeAmount: number;\n\n  /** The trial duration days */\n  @Prop() trialDurationDays: number;\n\n  /** The setup fee name */\n  @Prop() setupFeeName: string;\n\n  render() {\n    if (this.adHoc) {\n      return <Host role=\"paragraph\">{__('Custom Amount', 'surecart')}</Host>;\n    }\n\n    return (\n      <Host role=\"paragraph\">\n        <div class=\"price\" id=\"price\">\n          <div class=\"price__amounts\">\n            {!!this.scratchAmount && this.scratchAmount !== this.amount && (\n              <Fragment>\n                {this.scratchAmount === 0 ? (\n                  __('Free', 'surecart')\n                ) : (\n                  <Fragment>\n                    <sc-visually-hidden>{__('The price was', 'surecart')} </sc-visually-hidden>\n                    <sc-format-number class=\"price__scratch\" part=\"price__scratch\" type=\"currency\" currency={this.currency} value={this.scratchAmount}></sc-format-number>\n                    <sc-visually-hidden> {__('now discounted to', 'surecart')}</sc-visually-hidden>\n                  </Fragment>\n                )}\n              </Fragment>\n            )}\n\n            {this.amount === 0 ? __('Free', 'surecart') : <sc-format-number class=\"price__amount\" type=\"currency\" value={this.amount} currency={this.currency}></sc-format-number>}\n\n            <div class=\"price__interval\">\n              {this.recurringPeriodCount && 1 < this.recurringPeriodCount && (\n                <sc-visually-hidden>\n                  {' '}\n                  {__('This is a repeating price. Payment will happen', 'surecart')}{' '}\n                  {intervalString(\n                    {\n                      recurring_interval_count: this.recurringIntervalCount,\n                      recurring_interval: this.recurringInterval,\n                      recurring_period_count: this.recurringPeriodCount,\n                    },\n                    {\n                      showOnce: true,\n                      abbreviate: false,\n                      labels: {\n                        interval: __('every', 'surecart'),\n                        period:\n                          /** translators: used as in time period: \"for 3 months\" */\n                          __('for', 'surecart'),\n                      },\n                    },\n                  )}\n                </sc-visually-hidden>\n              )}\n\n              <span aria-hidden=\"true\">\n                {intervalString(\n                  {\n                    recurring_interval_count: this.recurringIntervalCount,\n                    recurring_interval: this.recurringInterval,\n                    recurring_period_count: this.recurringPeriodCount,\n                  },\n                  {\n                    showOnce: true,\n                    abbreviate: false,\n                    labels: {\n                      interval: '/',\n                      period:\n                        /** translators: used as in time period: \"for 3 months\" */\n                        __('for', 'surecart'),\n                    },\n                  },\n                )}\n              </span>\n            </div>\n\n            {!!this.scratchAmount && (\n              <sc-tag type=\"primary\" pill class=\"price__sale-badge\">\n                {this.saleText || (\n                  <Fragment>\n                    <sc-visually-hidden>{__('This product is available for sale.', 'surecart')} </sc-visually-hidden>\n                    <span aria-hidden=\"true\">{__('Sale', 'surecart')}</span>\n                  </Fragment>\n                )}\n              </sc-tag>\n            )}\n          </div>\n\n          {(!!this?.trialDurationDays || !!this?.setupFeeAmount) && (\n            <div class=\"price__details\">\n              {!!this?.trialDurationDays && (\n                <Fragment>\n                  <sc-visually-hidden>{sprintf(__('You have a %d-day trial before payment becomes necessary.', 'surecart'), this?.trialDurationDays)}</sc-visually-hidden>\n                  <span class=\"price__trial\" aria-hidden=\"true\">\n                    {sprintf(_n('Starting in %s day.', 'Starting in %s days.', this?.trialDurationDays, 'surecart'), this?.trialDurationDays)}\n                  </span>\n                </Fragment>\n              )}\n\n              {!!this?.setupFeeAmount && (\n                <span class=\"price__setup-fee\">\n                  <sc-visually-hidden>{__('This product has', 'surecart')} </sc-visually-hidden>{' '}\n                  <sc-format-number type=\"currency\" value={this?.setupFeeAmount} currency={this.currency}></sc-format-number> {this?.setupFeeName || __('Setup Fee', 'surecart')}.\n                </span>\n              )}\n            </div>\n          )}\n        </div>\n      </Host>\n    );\n  }\n}\n"]}