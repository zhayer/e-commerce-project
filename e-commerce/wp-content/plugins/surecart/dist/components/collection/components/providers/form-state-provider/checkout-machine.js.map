{"version":3,"file":"checkout-machine.js","sourceRoot":"","sources":["../../../../src/components/providers/form-state-provider/checkout-machine.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,aAAa,EAAE,MAAM,EAAE,MAAM,aAAa,CAAC;AAEpD,MAAM,CAAC,MAAM,eAAe,GAAG,aAAa,CAAC;IAC3C,EAAE,EAAE,OAAO;IACX,OAAO,EAAE,OAAO;IAChB,OAAO,EAAE;QACP,OAAO,EAAE,CAAC;KACX;IACD,MAAM,EAAE;QACN,KAAK,EAAE;YACL,EAAE,EAAE;gBACF,IAAI,EAAE,YAAY;gBAClB,QAAQ,EAAE,YAAY;gBACtB,KAAK,EAAE,UAAU;gBACjB,MAAM,EAAE,OAAO;gBACf,IAAI,EAAE,QAAQ;aACf;SACF;QACD,QAAQ,EAAE;YACR,EAAE,EAAE;gBACF,OAAO,EAAE,OAAO;gBAChB,MAAM,EAAE,SAAS;gBACjB,MAAM,EAAE,OAAO;gBACf,IAAI,EAAE,QAAQ;aACf;SACF;QACD,UAAU,EAAE;YACV,EAAE,EAAE;gBACF,MAAM,EAAE,QAAQ;gBAChB,MAAM,EAAE,OAAO;gBACf,IAAI,EAAE,YAAY;gBAClB,oBAAoB,EAAE,sBAAsB;aAC7C;SACF;QACD,MAAM,EAAE;YACN,EAAE,EAAE;gBACF,IAAI,EAAE,YAAY;gBAClB,MAAM,EAAE,OAAO;aAChB;SACF;QACD,UAAU,EAAE;YACV,EAAE,EAAE;gBACF,SAAS,EAAE,WAAW;aACvB;SACF;QACD,IAAI,EAAE;YACJ,EAAE,EAAE;gBACF,SAAS,EAAE,WAAW;gBACtB,QAAQ,EAAE,aAAa;gBACvB,MAAM,EAAE,OAAO;aAChB;SACF;QACD,OAAO,EAAE,EAAE;QACX,MAAM,EAAE,EAAE;QACV,SAAS,EAAE;YACT,EAAE,EAAE;gBACF,QAAQ,EAAE,aAAa;aACxB;SACF;QACD,oBAAoB,EAAE,EAAE;QACxB,WAAW,EAAE,EAAE;QACf,OAAO,EAAE;YACP,EAAE,EAAE;gBACF,KAAK,EAAE;oBACL,MAAM,EAAE,UAAU;oBAClB,OAAO,EAAE,MAAM,CAAC;wBACd,OAAO,EAAE,CAAC,OAA4B,EAAE,EAAE,CAAC,OAAO,CAAC,OAAO,GAAG,CAAC;qBAC/D,CAAC;iBACH;aACF;SACF;KACF;CACF,CAAC,CAAC;AAEH,eAAe,eAAe,CAAC","sourcesContent":["import { createMachine, assign } from '@xstate/fsm';\n\nexport const checkoutMachine = createMachine({\n  id: 'fetch',\n  initial: 'draft',\n  context: {\n    retries: 3,\n  },\n  states: {\n    draft: {\n      on: {\n        PAID: 'confirming',\n        FINALIZE: 'finalizing',\n        FETCH: 'updating',\n        REJECT: 'draft',\n        LOCK: 'locked',\n      },\n    },\n    updating: {\n      on: {\n        RESOLVE: 'draft',\n        EXPIRE: 'expired',\n        REJECT: 'draft',\n        LOCK: 'locked',\n      },\n    },\n    finalizing: {\n      on: {\n        PAYING: 'paying',\n        REJECT: 'draft',\n        PAID: 'confirming',\n        TEST_MODE_RESTRICTED: 'test_mode_restricted',\n      },\n    },\n    paying: {\n      on: {\n        PAID: 'confirming',\n        REJECT: 'draft',\n      },\n    },\n    confirming: {\n      on: {\n        CONFIRMED: 'confirmed',\n      },\n    },\n    paid: {\n      on: {\n        CONFIRMED: 'confirmed',\n        REDIRECT: 'redirecting',\n        REJECT: 'draft',\n      },\n    },\n    expired: {},\n    locked: {},\n    confirmed: {\n      on: {\n        REDIRECT: 'redirecting',\n      },\n    },\n    test_mode_restricted: {},\n    redirecting: {},\n    failure: {\n      on: {\n        RETRY: {\n          target: 'updating',\n          actions: assign({\n            retries: (context: { retries: number }) => context.retries + 1,\n          }),\n        },\n      },\n    },\n  },\n});\n\nexport default checkoutMachine;\n"]}