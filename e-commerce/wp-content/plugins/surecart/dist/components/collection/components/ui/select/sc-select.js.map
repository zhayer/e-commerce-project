{"version":3,"file":"sc-select.js","sourceRoot":"","sources":["../../../../src/components/ui/select/sc-select.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Prop, h, State, Watch, Event, EventEmitter, Method, Element, Listen } from '@stencil/core';\nimport { ChoiceItem } from '../../../types';\nimport Fuse from 'fuse.js';\nimport { FormSubmitController } from '../../../functions/form-data';\nimport { __ } from '@wordpress/i18n';\nimport { isValidURL } from '../../../functions/util';\n\nlet id = 0;\nlet itemIndex = 0;\nlet arrowFlag = '';\n\n/**\n * @part base - The elements base wrapper.\n * @part input - The html input element.\n * @part form-control - The form control wrapper.\n * @part label - The input label.\n * @part help-text - Help text that describes how to use the input.\n * @part trigger - The trigger for the dropdown.\n * @part panel - Them panel for the dropdown.\n * @part caret - The caret.\n * @part search___base - The search base wrapper.\n * @part search__input - The search input element.\n * @part search__form-control - The search form control wrapper.\n * @part menu__base - The menu base.\n * @part spinner__base - The spinner base.\n * @part empty - The empty message.\n */\n@Component({\n  tag: 'sc-select',\n  styleUrl: 'sc-select.scss',\n  shadow: true,\n})\nexport class ScSelectDropdown {\n  /** Element */\n  @Element() el: HTMLScSelectElement;\n\n  private formController: any;\n\n  private searchInput: HTMLScInputElement;\n  private input: HTMLInputElement;\n\n  private inputId: string = `select-${++id}`;\n  private helpId = `select-help-text-${id}`;\n  private labelId = `select-label-${id}`;\n\n  /** The input's autocomplete attribute. */\n  @Prop() autocomplete: string;\n\n  /** Placeholder for no value */\n  @Prop() placeholder: string = '';\n\n  /** Placeholder for search */\n  @Prop() searchPlaceholder: string = '';\n\n  /** The input's value attribute. */\n  @Prop({ mutable: true, reflect: true }) value = '';\n\n  /** The input's value attribute. */\n  @Prop({ mutable: true }) choices: Array<ChoiceItem> = [];\n\n  /** Can we unselect items. */\n  @Prop() unselect: boolean = true;\n\n  /* Is it required */\n  @Prop({ reflect: true }) required: boolean;\n\n  /* Is it loading */\n  @Prop() loading: boolean;\n\n  /** Is search enabled? */\n  @Prop() search: boolean;\n\n  @Prop() closeOnSelect: boolean = true;\n\n  /** The input's name attribute. */\n  @Prop({ reflect: true }) name: string;\n\n  /** Some help text for the input. */\n  @Prop() help: string;\n\n  /** The input's label. */\n  @Prop() label: string;\n\n  /** The input's size. */\n  @Prop({ reflect: true }) size: 'small' | 'medium' | 'large' = 'medium';\n\n  @Prop() position: 'bottom-left' | 'bottom-right' | 'top-left' | 'top-right' = 'bottom-right';\n\n  /** The placement of the dropdown. */\n  @Prop({ reflect: true }) placement:\n    | 'top'\n    | 'top-start'\n    | 'top-end'\n    | 'bottom'\n    | 'bottom-start'\n    | 'bottom-end'\n    | 'right'\n    | 'right-start'\n    | 'right-end'\n    | 'left'\n    | 'left-start'\n    | 'left-end' = 'bottom-start';\n\n  /**\n   * This will be true when the control is in an invalid state. Validity is determined by props such as `type`,\n   * `required`, `minlength`, `maxlength`, and `pattern` using the browser's constraint validation API.\n   */\n  @Prop({ mutable: true, reflect: true }) invalid = false;\n\n  /** Is this open */\n  @Prop({ mutable: true }) open: boolean;\n  @Prop() disabled: boolean;\n  @Prop() showParentLabel: boolean = true;\n  @Prop() hoist: boolean = false;\n\n  @Prop() squared: boolean;\n  @Prop() squaredBottom: boolean;\n  @Prop() squaredTop: boolean;\n  @Prop() squaredLeft: boolean;\n  @Prop() squaredRight: boolean;\n\n  @State() private hasFocus: boolean = false;\n\n  /** Search term */\n  @State() searchTerm: string = '';\n\n  /** Search term */\n  @State() filteredChoices: Array<ChoiceItem> = [];\n\n  /** Emitted whent the components search query changes */\n  @Event() scSearch: EventEmitter<string>;\n\n  /** Emitted whent the components search query changes */\n  @Event() scOpen: EventEmitter<string>;\n\n  /** Emitted whent the components search query changes */\n  @Event() scClose: EventEmitter<string>;\n\n  /** Emitted when the control loses focus. */\n  @Event() scBlur: EventEmitter<void>;\n\n  /** Emitted when the control gains focus. */\n  @Event() scFocus: EventEmitter<void>;\n\n  /** Emitted when the control's value changes. */\n  @Event({ composed: true })\n  scChange: EventEmitter<ChoiceItem>;\n\n  /** Emitted when the list scrolls to the end. */\n  @Event() scScrollEnd: EventEmitter<void>;\n\n  /** Trigger focus on show */\n  handleShow() {\n    this.open = true;\n    setTimeout(() => {\n      this.searchInput && this.searchInput.triggerFocus();\n    }, 50);\n  }\n\n  handleHide() {\n    this.open = false;\n    itemIndex = 0;\n    this.scClose.emit();\n  }\n\n  handleBlur() {\n    this.hasFocus = false;\n    this.scBlur.emit();\n  }\n\n  handleFocus() {\n    this.hasFocus = true;\n    this.el.focus();\n    this.scFocus.emit();\n  }\n\n  /** Get the display value of the item. */\n  displayValue() {\n    if (!this.value) return false;\n    let chosen = this.choices.find(choice => choice.value == this.value);\n    let append = '';\n    if (!chosen) {\n      if (this.showParentLabel) {\n        append = this.choices.find(choice => choice?.choices?.some?.(subChoice => subChoice.value === this.value))?.label;\n      }\n      const subchoices = (this.choices || []).map(choice => choice.choices).flat();\n      chosen = subchoices.find(choice => choice?.value == this.value);\n    }\n    if (chosen) {\n      return `${append ? append + ' â€” ' : ''}${chosen?.label}`;\n    }\n    return false;\n  }\n\n  isChecked({ value, checked = false }) {\n    if (checked) {\n      return true;\n    }\n    return !!value && this.value === value;\n  }\n\n  /** Sets a custom validation message. If `message` is not empty, the field will be considered invalid. */\n  @Method()\n  async setCustomValidity(message: string) {\n    this.input.setCustomValidity(message);\n    this.invalid = !this.input.checkValidity();\n  }\n\n  @Method()\n  async reportValidity() {\n    return this.input.reportValidity();\n  }\n\n  handleQuery(e) {\n    this.searchTerm = e.target.value;\n    this.scSearch.emit(this.searchTerm);\n  }\n\n  handleSelect(choice) {\n    const { value } = choice;\n\n    if (this.value === value && this.unselect) {\n      this.value = '';\n    } else {\n      this.value = value;\n    }\n\n    if (this.closeOnSelect) {\n      this.searchTerm = '';\n    }\n\n    this.scChange.emit(choice);\n  }\n\n  @Watch('searchTerm')\n  @Watch('choices')\n  handleSearchChange() {\n    const fuse = new Fuse(this.choices, {\n      keys: ['value', 'label'],\n    });\n\n    if (this.searchTerm) {\n      const results = fuse.search(this.searchTerm) as any;\n      this.filteredChoices = results.map(result => result.item);\n    } else {\n      this.filteredChoices = this.choices;\n    }\n  }\n\n  @Watch('value')\n  handleValueChange() {\n    if (this.input) {\n      this.invalid = !this.input.checkValidity();\n    }\n  }\n\n  @Watch('open')\n  handleOpenChange() {\n    if (this.open) {\n      this.scOpen.emit();\n      this.searchInput && this.searchInput.triggerFocus();\n    } else {\n      this.scClose.emit();\n    }\n  }\n\n  handleMenuScroll(e) {\n    const scrollTop = e.target.scrollTop;\n    const scrollHeight = e.target.scrollHeight;\n    const offsetHeight = e.target.offsetHeight;\n    const contentHeight = scrollHeight - offsetHeight;\n    if (contentHeight - scrollTop < 5) this.scScrollEnd.emit();\n  }\n\n  componentWillLoad() {\n    this.handleSearchChange();\n  }\n\n  componentDidLoad() {\n    this.formController = new FormSubmitController(this.el).addFormData();\n    if (this.open) {\n      this.searchInput && this.searchInput.triggerFocus();\n    }\n  }\n\n  getItems() {\n    return [...this.el.shadowRoot.querySelectorAll<HTMLScMenuItemElement>('sc-menu-item')];\n  }\n\n  @Listen('keydown')\n  handleKeyDown(event: KeyboardEvent) {\n    const target = event.target as HTMLElement;\n    const items = this.getItems();\n\n    // Ignore key presses on tags\n    if (target.tagName.toLowerCase() === 'sc-tag') {\n      return;\n    }\n\n    // Tabbing out of the control closes it\n    if (event.key === 'Tab') {\n      if (this.open) {\n        this.handleHide();\n      }\n\n      return;\n    }\n\n    // Up/down opens the menu\n    if (['ArrowDown', 'ArrowUp'].includes(event.key)) {\n      event.preventDefault();\n\n      // Show the menu if it's not already open\n      if (!this.open) {\n        this.handleShow();\n      }\n\n      // Focus on a menu item\n      if (event.key === 'ArrowDown') {\n        if (arrowFlag == 'up') {\n          itemIndex = itemIndex + 2;\n        }\n        if (itemIndex > items.length - 1) {\n          itemIndex = 0;\n        }\n\n        items[itemIndex].setFocus();\n\n        arrowFlag = 'down';\n        itemIndex++;\n\n        return;\n      }\n\n      if (event.key === 'ArrowUp') {\n        if (arrowFlag == 'down') {\n          itemIndex = itemIndex - 2;\n        }\n        if (itemIndex < 0) {\n          itemIndex = items.length - 1;\n        }\n\n        items[itemIndex].setFocus();\n\n        arrowFlag = 'up';\n        itemIndex--;\n\n        return;\n      }\n    }\n\n    // Close select dropdown on Esc/Escape key\n    if (event.key === 'Escape') {\n      if (this.open) {\n        this.input.focus();\n        this.handleHide();\n      }\n\n      return;\n    }\n\n    // Open select dropdown with Enter\n    if (event.key === 'Enter') {\n      if (this.open) {\n        items[itemIndex - 1]?.click?.();\n        this.handleHide();\n        this.input.focus();\n      } else {\n        this.handleShow();\n      }\n    }\n\n    // don't open the menu when a CTRL/Command key is pressed\n    if (event.ctrlKey || event.metaKey) {\n      return;\n    }\n\n    // All other \"printable\" keys open the menu and initiate type to select\n    // TODO: this is closing out the dropdown during typing events.\n    // FIX: It must have focus as well. And it fix the random closing issue.\n    if (!this.open && this.hasFocus && event.key.length === 1) {\n      this.handleShow();\n    }\n  }\n\n  disconnectedCallback() {\n    this.formController?.removeFormData();\n  }\n\n  renderIcon(icon) {\n    if (isValidURL(icon)) {\n      return <img src={icon} alt=\"icon\" slot=\"prefix\" class=\"choice__icon--image\" />;\n    }\n    return <sc-icon name={icon} slot=\"prefix\" class=\"choice__icon\" />;\n  }\n\n  renderItem(choice: ChoiceItem, index: number) {\n    if (choice?.choices?.length) {\n      return <sc-menu-label key={index}>{choice.label}</sc-menu-label>;\n    }\n\n    return (\n      <sc-menu-item\n        class={{ 'is-unavailable': choice?.unavailable }}\n        key={index}\n        checked={this.isChecked(choice)}\n        value={choice?.value}\n        onClick={() => !choice.disabled && this.handleSelect(choice)}\n        onKeyDown={event => {\n          if ((event.key === 'Enter' || event.key === ' ') && !choice.disabled) {\n            event.preventDefault();\n            event.stopImmediatePropagation();\n            this.handleSelect(choice);\n          }\n        }}\n        disabled={choice.disabled}\n        aria-label={choice.label}\n        aria-selected={this.isChecked(choice) ? 'true' : 'false'}\n        role=\"option\"\n      >\n        {choice.label}\n        {!!choice?.description && <div class=\"select__description\">{choice?.description}</div>}\n        <div slot=\"suffix\">\n          {choice?.suffix} {!!choice?.suffixDescription && <div class=\"select__suffix-description\">{choice?.suffixDescription}</div>}\n        </div>\n        {!!choice?.icon && this.renderIcon(choice.icon)}\n      </sc-menu-item>\n    );\n  }\n\n  render() {\n    return (\n      <div\n        part=\"base\"\n        class={{\n          'select': true,\n          'select--placeholder': !this.value,\n          'select--focused': this.hasFocus,\n          'select--is-open': !!this.open,\n          'select--disabled': this.disabled,\n          'select--has-choices': !!this?.choices?.length,\n          'select--squared': this.squared,\n          'select--squared-bottom': this.squaredBottom,\n          'select--squared-top': this.squaredTop,\n          'select--squared-left': this.squaredLeft,\n          'select--squared-right': this.squaredRight,\n        }}\n      >\n        <sc-form-control\n          exportparts=\"label, help-text, form-control\"\n          size={this.size}\n          required={this.required}\n          label={this.label}\n          help={this.help}\n          inputId={this.inputId}\n          helpId={this.helpId}\n          labelId={this.labelId}\n          name={this.name}\n        >\n          <input\n            class=\"select__hidden-input\"\n            name={this.name}\n            ref={el => (this.input = el as HTMLInputElement)}\n            value={this.value}\n            required={this.required}\n            disabled={this.disabled}\n            aria-hidden=\"true\"\n            aria-label={this.displayValue() || this.label || this.placeholder}\n            onBlur={() => this.handleBlur()}\n            onFocus={() => this.handleFocus()}\n          ></input>\n\n          <sc-dropdown\n            exportparts=\"trigger, panel\"\n            disabled={this.disabled}\n            open={this.open}\n            closeOnSelect={this.closeOnSelect}\n            position={this.position}\n            placement={this.placement}\n            hoist={this.hoist}\n            style={{ '--panel-width': '100%' }}\n            onScShow={() => this.handleShow()}\n            onScHide={() => this.handleHide()}\n            role=\"select\"\n            aria-open={this.open ? 'true' : 'false'}\n          >\n            <slot name=\"trigger\" slot=\"trigger\">\n              <div class=\"trigger\" role=\"button\" tabIndex={-1} onFocus={() => this.handleFocus()} onBlur={() => this.handleBlur()}>\n                <div class=\"select__value\">\n                  <slot>{this.displayValue() || this.placeholder || __('Select...', 'surecart')}</slot>\n                </div>\n                <sc-icon exportparts=\"base:caret\" class=\"select__caret\" name=\"chevron-down\" />\n              </div>\n            </slot>\n\n            {this.search && (\n              <sc-input\n                exportparts=\"base:search__base, input:search__input, form-control:search__form-control\"\n                placeholder={this.searchPlaceholder || __('Search...', 'surecart')}\n                onScInput={e => this.handleQuery(e)}\n                class=\"search\"\n                clearable\n                part=\"search\"\n                value={this.searchTerm}\n                ref={el => (this.searchInput = el as HTMLScInputElement)}\n                aria-label={__('Type to search', 'surecart')}\n                onKeyDown={e => e.stopPropagation()}\n              >\n                {this.loading && <sc-spinner exportparts=\"base:spinner__base\" style={{ '--spinner-size': '0.5em' }} slot=\"suffix\"></sc-spinner>}\n              </sc-input>\n            )}\n\n            <sc-menu style={{ maxHeight: '210px', overflow: 'auto' }} exportparts=\"base:menu__base\" onScroll={e => this.handleMenuScroll(e)} aria-multiselectable=\"false\">\n              <slot name=\"prefix\"></slot>\n              {(this.filteredChoices || []).map((choice, index) => {\n                return [this.renderItem(choice, index), (choice.choices || []).map(choice => this.renderItem(choice, index))];\n              })}\n              {this.loading && (\n                <div class=\"loading\">\n                  <sc-spinner exportparts=\"base:spinner__base\"></sc-spinner>\n                </div>\n              )}\n              {!this.loading && !this.filteredChoices.length && (\n                <div class=\"select__empty\" part=\"empty\">\n                  {__('Nothing Found', 'surecart')}\n                </div>\n              )}\n              <slot name=\"suffix\"></slot>\n            </sc-menu>\n          </sc-dropdown>\n        </sc-form-control>\n      </div>\n    );\n  }\n}\n"]}