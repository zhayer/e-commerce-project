{"version":3,"file":"sc-upsell-countdown-timer.js","sourceRoot":"","sources":["../../../../../src/components/controllers/upsell/sc-upsell-countdown-timer/sc-upsell-countdown-timer.tsx"],"names":[],"mappings":"AAAA;;GAEG;AACH,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AAChE,OAAO,EAAE,yBAAyB,EAAE,MAAM,uBAAuB,CAAC;AAOlE,MAAM,OAAO,sBAAsB;;6BAEA,QAAQ;;wBAMb,IAAI;;IAEhC,gBAAgB;QACd,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IAED,eAAe;QACb,IAAI,CAAC,aAAa,GAAG,yBAAyB,EAAE,CAAC;QACjD,WAAW,CAAC,GAAG,EAAE;YACf,IAAI,CAAC,aAAa,GAAG,yBAAyB,EAAE,CAAC;QACnD,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAED,MAAM;QACJ,OAAO,CACL,EAAC,IAAI,qDACH,IAAI,EAAC,OAAO,EACZ,KAAK,EAAE;gBACL,2BAA2B,EAAE,IAAI;aAClC;YAEA,IAAI,CAAC,QAAQ,IAAI,gEAAS,IAAI,EAAC,OAAO,GAAG;YAC1C;gBACE,6DAAM,IAAI,EAAC,mBAAmB,GAAG;;gBAAC,iEAAS,IAAI,CAAC,aAAa,CAAU,CAClE,CACF,CACR,CAAC;IACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["/**\n * External dependencies.\n */\nimport { Component, Host, Prop, h, State } from '@stencil/core';\nimport { getFormattedRemainingTime } from '@store/upsell/getters';\n\n@Component({\n  tag: 'sc-upsell-countdown-timer',\n  styleUrl: 'sc-upsell-countdown-timer.css',\n  shadow: true,\n})\nexport class ScUpsellCountdownTimer {\n  /** The time remaining in seconds. */\n  @State() timeRemaining: number = Infinity; // Initial time is many, would be updated later.\n\n  /** The formatted time remaining. */\n  @State() formattedTime: string;\n\n  /** Whether to show the icon. */\n  @Prop() showIcon: boolean = true;\n\n  componentDidLoad() {\n    this.updateCountdown();\n  }\n\n  updateCountdown() {\n    this.formattedTime = getFormattedRemainingTime();\n    setInterval(() => {\n      this.formattedTime = getFormattedRemainingTime();\n    }, 1000);\n  }\n\n  render() {\n    return (\n      <Host\n        role=\"timer\"\n        class={{\n          'sc-upsell-countdown-timer': true,\n        }}\n      >\n        {this.showIcon && <sc-icon name=\"clock\" />}\n        <span>\n          <slot name=\"offer-expire-text\" /> <strong>{this.formattedTime}</strong>\n        </span>\n      </Host>\n    );\n  }\n}\n"]}