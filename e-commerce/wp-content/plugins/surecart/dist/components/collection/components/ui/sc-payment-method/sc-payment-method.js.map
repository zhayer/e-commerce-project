{"version":3,"file":"sc-payment-method.js","sourceRoot":"","sources":["../../../../src/components/ui/sc-payment-method/sc-payment-method.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, h, Prop } from '@stencil/core';\nimport { __ } from '@wordpress/i18n';\n\nimport { BankAccount, PaymentInstrument, PaymentMethod } from '../../../types';\n\n@Component({\n  tag: 'sc-payment-method',\n  styleUrl: 'sc-payment-method.css',\n  shadow: true,\n})\nexport class ScPaymentMethod {\n  @Prop() paymentMethod: PaymentMethod;\n  @Prop() full: boolean;\n  @Prop() externalLink: string;\n  @Prop() externalLinkTooltipText: string;\n\n  renderBankAccountType(type) {\n    if (type === 'checking') {\n      return __('Checking', 'surecart');\n    }\n    if (type === 'savings') {\n      return __('Savings', 'surecart');\n    }\n  }\n\n  renderExternalLink() {\n    return (\n      !!this.externalLink && (\n        <sc-tooltip text={this.externalLinkTooltipText} type=\"text\">\n          <sc-button style={{ color: 'var(--sc-color-gray-500)' }} type=\"text\" size=\"small\" href={this.externalLink} target=\"_blank\">\n            <sc-icon name=\"external-link\" style={{ fontSize: '16px' }}></sc-icon>\n          </sc-button>\n        </sc-tooltip>\n      )\n    );\n  }\n\n  render() {\n    if ((this.paymentMethod?.bank_account as BankAccount)?.id) {\n      const account = this.paymentMethod?.bank_account as BankAccount;\n      return (\n        <div class=\"payment-method\" part=\"bank\">\n          <span>{this.renderBankAccountType(account?.account_type)}</span>\n          **** {account?.last4}\n          {this.renderExternalLink()}\n        </div>\n      );\n    }\n\n    if ((this?.paymentMethod?.payment_instrument as PaymentInstrument)?.instrument_type) {\n      const type = (this?.paymentMethod?.payment_instrument as PaymentInstrument)?.instrument_type;\n      if (!!this?.paymentMethod?.payment_method_name) {\n        return (\n          <div class=\"payment-method\" part=\"instrument\">\n            <div class=\"payment-method-icon\">\n              <sc-icon style={{ fontSize: '36px', '--height': '0.63em' }} name={type} />\n            </div>\n            <span>{this?.paymentMethod?.payment_method_name}</span>\n            {this.renderExternalLink()}\n          </div>\n        );\n      }\n\n      if (type === 'paypal') {\n        return (\n          <div class=\"payment-method\" part=\"instrument\">\n            <sc-icon style={{ fontSize: '56px', lineHeight: '1', height: '28px' }} name=\"paypal\"></sc-icon>\n          </div>\n        );\n      }\n\n      return (\n        <div class=\"payment-method\" part=\"instrument\">\n          <sc-tag exportparts=\"base:payment_instrument\" type=\"info\" pill>\n            <span style={{ textTransform: 'capitalize' }}>{type} </span>\n          </sc-tag>\n          {this.renderExternalLink()}\n        </div>\n      );\n    }\n\n    if (this.paymentMethod?.card?.brand) {\n      return (\n        <div class=\"payment-method\" part=\"card\">\n          <sc-cc-logo style={{ fontSize: '36px' }} brand={this.paymentMethod?.card?.brand}></sc-cc-logo>\n          <sc-text style={{ whiteSpace: 'nowrap', paddingRight: '6px' }}>**** {this.paymentMethod?.card?.last4}</sc-text>\n          {this.renderExternalLink()}\n        </div>\n      );\n    }\n\n    if (this.paymentMethod?.paypal_account?.id) {\n      return (\n        <div class=\"payment-method\" part=\"base\" style={{ gap: 'var(--sc-spacing-small)' }}>\n          <sc-icon style={{ fontSize: '56px', lineHeight: '1', height: '28px' }} name=\"paypal\"></sc-icon>\n          {this.full && (\n            <sc-text style={{ '--font-size': 'var(--sc-font-size-small)' }} truncate>\n              {this.paymentMethod?.paypal_account?.email}\n            </sc-text>\n          )}\n          {this.renderExternalLink()}\n        </div>\n      );\n    }\n\n    return this?.paymentMethod?.processor_type;\n  }\n}\n"]}