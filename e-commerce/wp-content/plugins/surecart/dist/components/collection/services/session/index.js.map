{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/services/session/index.ts"],"names":[],"mappings":"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","sourcesContent":["import { state as checkoutState } from '@store/checkout';\nimport { addQueryArgs, getQueryArg } from '@wordpress/url';\n\nimport apiFetch from '../../functions/fetch';\nimport { Checkout, DeletedItem, Invoice, LineItem } from '../../types';\nimport { __ } from '@wordpress/i18n';\n\n/** The base url for this service. */\nexport const baseUrl = 'surecart/v1/checkouts/';\n\n/** Items to always expand. */\nexport const expand = [\n  'line_items',\n  'line_item.price',\n  'line_item.fees',\n  'line_item.variant',\n  'variant.image',\n  'price.product',\n  'product.product_medias',\n  'product.featured_product_media',\n  'product.product_collections',\n  'product_media.media',\n  'customer',\n  'customer.shipping_address',\n  'payment_intent',\n  'discount',\n  'discount.promotion',\n  'recommended_bumps',\n  'bump.price',\n  'current_upsell',\n  'product.variants',\n  'discount.coupon',\n  'shipping_address',\n  'billing_address',\n  'tax_identifier',\n  'manual_payment_method',\n  'shipping_choices',\n  'shipping_choice.shipping_method',\n  'invoice',\n];\n\n/** Default data we send with every request. */\nexport const withDefaultData = (data: { metadata?: any } = {}) => ({\n  live_mode: checkoutState.mode !== 'test',\n  group_key: checkoutState.groupId,\n  abandoned_checkout_enabled: checkoutState.abandonedCheckoutEnabled,\n  billing_matches_shipping: checkoutState.checkout?.billing_matches_shipping,\n  metadata: {\n    ...(data?.metadata || {}),\n    ...(window?.scData?.page_id && { page_id: window?.scData?.page_id }),\n    ...(checkoutState?.product?.id && { buy_page_product_id: checkoutState?.product?.id }),\n    page_url: window.location.href,\n  },\n  ...(checkoutState?.checkout?.email && { email: checkoutState?.checkout?.email }),\n  ...data,\n});\n\n/** Default query we send with every request. */\nexport const withDefaultQuery = (query = {}) => ({\n  ...(!!checkoutState?.formId && { form_id: checkoutState?.formId }),\n  ...(!!checkoutState?.product?.id && { product_id: checkoutState?.product?.id }),\n  ...(!!(checkoutState?.checkout?.invoice as Invoice)?.id && { type: 'open_invoice' }),\n  ...query,\n});\n\n/** Get the checkout id  */\nexport const findInitialCheckoutId = () => {\n  // check url first.\n  const checkoutId = getQueryArg(window.location.href, 'checkout_id');\n  if (!!checkoutId) {\n    return checkoutId;\n  }\n\n  // check existing order.\n  if (checkoutState?.checkout?.id) {\n    return checkoutState?.checkout?.id;\n  }\n\n  // we don't have and order id.\n  return null;\n};\n\n/** Parse the path with expansions. */\nexport const parsePath = (id, endpoint = '') => {\n  let path = id ? `${baseUrl}${id}` : baseUrl;\n  path = `${path}${endpoint}`;\n  return addQueryArgs(path, {\n    expand,\n  });\n};\n\n/** Fethc a checkout by id */\nexport const fetchCheckout = async ({ id, query = {} }) => {\n  return (await apiFetch({\n    path: addQueryArgs(parsePath(id), withDefaultQuery(query)),\n  })) as Checkout;\n};\n\n/** Create or update the checkout. */\nexport const createOrUpdateCheckout = async ({ id = null, data = {}, query = {} }) => {\n  id = !id ? findInitialCheckoutId() : id;\n  return await apiFetch({\n    method: id ? 'PATCH' : 'POST', // create or update\n    path: addQueryArgs(parsePath(id), withDefaultQuery(query)),\n    data: withDefaultData(data),\n  });\n};\n\n/** Create the checkout */\nexport const createCheckout = async ({ data = {}, query = {} }) => {\n  return await apiFetch({\n    method: 'POST', // create\n    path: addQueryArgs(parsePath(null), withDefaultQuery(query)),\n    data: withDefaultData(data),\n  });\n};\n\n/** Update the checkout. */\nexport const updateCheckout = async ({ id, data = {}, query = {} }) => {\n  return await apiFetch({\n    method: 'PATCH',\n    path: addQueryArgs(parsePath(id), withDefaultQuery(query)),\n    data: withDefaultData(data),\n  });\n};\n\n/** Finalize a checkout */\nexport const finalizeCheckout = async ({ id, data = {}, query = {}, processor }: { id: string; data?: any; query?: any; processor: { id: string; manual: boolean } }) => {\n  return (await apiFetch({\n    method: 'POST',\n    path: addQueryArgs(\n      parsePath(id, '/finalize'),\n      withDefaultQuery({\n        ...(processor?.manual ? { manual_payment: true, manual_payment_method_id: processor?.id } : { processor_type: processor?.id }),\n        ...query,\n      }),\n    ),\n    data: withDefaultData(data),\n  })) as Checkout;\n};\n\n/**\n * Add a line item.\n */\nexport const addLineItem = async ({ checkout, data, live_mode = false }) => {\n  const existingLineItem = (checkout?.line_items?.data || []).find(item => {\n    if (!item?.variant?.id) {\n      return item.price.id === data.price;\n    }\n    return item.variant.id === data.variant && item.price.id === data.price;\n  });\n\n  // create the checkout with the line item.\n  if (!checkout?.id) {\n    return (await apiFetch({\n      method: 'POST', // create\n      path: addQueryArgs(parsePath(null)),\n      data: {\n        line_items: [data],\n        live_mode,\n      },\n    })) as Checkout;\n  }\n\n  // handle existing line item.\n  if (!!existingLineItem) {\n    return await updateLineItem({ id: existingLineItem?.id, data: { ...data, quantity: existingLineItem?.quantity + data?.quantity } });\n  }\n\n  const item = (await apiFetch({\n    path: addQueryArgs(`surecart/v1/line_items/${existingLineItem?.id ? existingLineItem?.id : ''}`, {\n      consolidate: true,\n      expand: [\n        ...(expand || []).map(item => {\n          return item.includes('.') ? item : `checkout.${item}`;\n        }),\n        'checkout',\n      ],\n    }),\n    method: 'POST',\n    data: {\n      ...data,\n      checkout: checkout.id,\n    },\n  })) as LineItem;\n\n  return item?.checkout as Checkout;\n};\n\n/**\n * Remove a line item.\n */\nexport const removeLineItem = async ({ checkoutId, itemId }) => {\n  const { deleted } = (await apiFetch({\n    path: `surecart/v1/line_items/${itemId}`,\n    method: 'DELETE',\n  })) as DeletedItem;\n\n  if (!deleted) {\n    throw { code: 'error', message: __('Failed to delete', 'surecart') };\n  }\n\n  return await fetchCheckout({ id: checkoutId });\n};\n\n/**\n * Update a line item.\n */\nexport const updateLineItem = async ({ id, data }) => {\n  const item = (await apiFetch({\n    path: addQueryArgs(`surecart/v1/line_items/${id}`, {\n      expand: [\n        ...(expand || []).map(item => {\n          return item.includes('.') ? item : `checkout.${item}`;\n        }),\n        'checkout',\n      ],\n    }),\n    method: 'PATCH',\n    data,\n  })) as LineItem;\n\n  return item?.checkout as Checkout;\n};\n"]}